<!DOCTYPE html>
<html>
	<head>
		<title>Padelize | Partite</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
        <link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1">

	</head>
	<body class="p-4">
		<h1>Prima Fase: girone all'italiana ðŸ¤Œ</h1>
		<p>Inserisci i risultati delle partite</p>
        <div class="mb-3">

        
        <form action="/salva-risultati" method="POST">
    <% 
      let turnoCorrente = 0;
      partite.forEach((partita, index) => {
        if (partita.turno !== turnoCorrente) {
          if (turnoCorrente !== 0) { %>
            </table>
          <% }
          turnoCorrente = partita.turno; %>
          <h3>Turno <%= partita.turno %></h3>
          <table class="table" border="1">
            <tr>
              <th scope="col">Campo</th>
              <th scope="col">Squadra 1</th>
              <th scope="col">Squadra 2</th>
              <th scope="col">Punti Squadra 1</th>
              <th scope="col">Punti Squadra 2</th>
            </tr>
        <% } %>
        <tr>
          <td><%= partita.campo %></td>
          <td><%= partita.squadra1[0].nome %> & <%= partita.squadra1[1].nome %></td>
          <td><%= partita.squadra2[0].nome %> & <%= partita.squadra2[1].nome %></td>
          <td>
            <input type="number" name="risultati[<%= index %>][punti1]" min="0" max="6" required>
          </td>
          <td>
            <input type="number" name="risultati[<%= index %>][punti2]" min="0" max="6" required>
          </td>
        </tr>
    <% }); %>
    </table>
    <br>
    <button class="btn btn-primary" type="submit">Salva Risultati</button>
  </form>
  </div>
	</body>
</html>
